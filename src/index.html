<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>HTML 5 Boilerplate</title>
    <link rel="stylesheet" href="output.css">
  </head>
  <body>
	<script src="index.js" type="module"></script>

  <div x-data="util">
  <div x-data="{qa: new Map(), cards: []}">
      <input type="file" accept=".csv" @change="({target})=>{
          ReadCsv(target.files[0],(result)=>{
            cards = result
            console.log(cards)
          })
      }">
      <ul x-show="cards">
          <template x-for="card in cards">
              <li x-data="{selected: null}" class="w-3">
                <div x-text="'card: ' + card.question"></div>
                <div >
                  <template x-for="answer in Shuffle([...card.incorrect_answers, card.answer])">
                    <div x-text="answer" :class="()=>{
                      if(selected){
                        return selected==answer ? 'bg-green-600' : 'bg-red-600'
                      }
                    }" @click="()=>{
                      selected = selected ? selected : answer
                    }"></div>
                  </template>
                </div>
              </li>
          </template>
      </ul>
  </div>
</div>
  </body>
</html>